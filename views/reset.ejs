<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trace Mc</title>
<link rel="icon" type="image/png" href="media/favicon.png">
<link rel="stylesheet" href="css/register.css">
</head>
<body>
    <div class="box">
        <h1 class="form_headline">Reset password</h1>
        <form class="form_box" action="/reset-mail" method="post" novalidate>
            <input type="text" name="email" id="email" required placeholder="Enter email" >
        </form>
        <button class="form_submit" onclick="submit_form()">Sent request</button>
        <p class="form_more"> </p>
    </div>
    <div class="error_box hidden">
        <img src="media/svg/error.svg" alt="">
        <p id="error_msg">Something went wrong</p>
    </div>
    <script>
        function submit_form(){
            const email = document.getElementById("email").value;
            const error = document.getElementById("error_msg"); // use getElementById instead
            const box = document.querySelector(".error_box"); // use querySelector instead
            function close(){
                setTimeout(() => {
                    box.classList.add("hidden");
                }, 2000);
            }
            if (!email) {
                error.innerText = "email is required";
                box.classList.remove("hidden");
                close()
            }
            else{
                document.querySelector(".form_box").submit()
            }
            }
        
    </script>
</body>
</html>